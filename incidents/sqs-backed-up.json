{"inkVersion":19,"root":[[{"->":"alert"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"alert":[["^You receive an alert that a Production SQS queue has high oldest message age.","\n",["ev",{"^->":"alert.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^Acknowledge the alert",{"->":"$r","var":true},null]}],["ev",{"^->":"alert.0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Wait for the alert to autoresolve",{"->":"$r","var":true},null]}],["ev",{"^->":"alert.0.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Turn off your phone",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"alert.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","^Now what?","\n",[["ev",{"^->":"alert.0.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Restart the service",{"->":"$r","var":true},null]}],["ev",{"^->":"alert.0.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^Check Datadog",{"->":"$r","var":true},null]}],["ev",{"^->":"alert.0.c-0.9.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^Check AWS",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"alert.0.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^The queue continues to grow","\n",{"->":"alert"},{"#f":5}],"c-1":["ev",{"^->":"alert.0.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"datadog"},{"#f":5}],"c-2":["ev",{"^->":"alert.0.c-0.9.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n",{"->":"aws"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"alert.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"alert.0.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Wait for 10 minutes",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"alert.0.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",[{"*":".^.c-0","flg":24},{"c-0":[{"->":"alert"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-2":["ev",{"^->":"alert.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"\n","^Really?","\n",[["ev",{"^->":"alert.0.c-2.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Yes",{"->":"$r","var":true},null]}],["ev",{"^->":"alert.0.c-2.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^No, I was jk",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"alert.0.c-2.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Joe won't be happy","\n","end",{"#f":5}],"c-1":["ev",{"^->":"alert.0.c-2.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"alert"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"datadog":[[["ev",{"^->":"datadog.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Logs",{"->":"$r","var":true},null]}],["ev",{"^->":"datadog.0.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^APM",{"->":"$r","var":true},null]}],["ev",{"^->":"datadog.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^Dashboards",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"datadog.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"problematic_task"},{"#f":5}],"c-1":["ev",{"^->":"datadog.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"nothing_new_dd"},{"#f":5}],"c-2":["ev",{"^->":"datadog.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"datadog.0.c-2.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^SQS",{"->":"$r","var":true},null]}],["ev",{"^->":"datadog.0.c-2.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Celery",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"datadog.0.c-2.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"nothing_new_dd"},{"#f":5}],"c-1":["ev",{"^->":"datadog.0.c-2.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"problematic_task"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"nothing_new_dd":["^You don't learn anything new","\n",{"->":"datadog"},{"#f":1}],"aws":[[["ev",{"^->":"aws.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Batch",{"->":"$r","var":true},null]}],["ev",{"^->":"aws.0.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^ECS",{"->":"$r","var":true},null]}],["ev",{"^->":"aws.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Cloudwatch",{"->":"$r","var":true},null]}],["ev",{"^->":"aws.0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":18},{"s":["^SQS",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"aws.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"nothing_new_aws"},{"#f":5}],"c-1":["ev",{"^->":"aws.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"nothing_new_aws"},{"#f":5}],"c-2":["ev",{"^->":"aws.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n",{"->":"problematic_task"},{"#f":5}],"c-3":["ev",{"^->":"aws.0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n",{"->":"nothing_new_aws"},{"#f":5}]}],{"#f":1}],"nothing_new_aws":[[["ev",{"^->":"nothing_new_aws.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You don't learn anything new",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"nothing_new_aws.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"aws"},{"#f":5}]}],{"#f":1}],"problematic_task":[[["ev",{"^->":"problematic_task.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You see a spike of error logs from a specific task",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"problematic_task.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"problematic_task.0.c-0.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Rollback",{"->":"$r","var":true},null]}],["ev",{"^->":"problematic_task.0.c-0.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Deploy a hotfix",{"->":"$r","var":true},null]}],["ev",{"^->":"problematic_task.0.c-0.7.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Toggle a feature flag",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"problematic_task.0.c-0.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"remediated"},{"#f":5}],"c-1":["ev",{"^->":"problematic_task.0.c-0.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"remediated"},{"#f":5}],"c-2":["ev",{"^->":"problematic_task.0.c-0.7.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n",{"->":"remediated"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"remediated":[[["ev",{"^->":"remediated.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^The errors have subsided, but the queue is still backed up",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"remediated.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"remediated.0.c-0.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Do nothing",{"->":"$r","var":true},null]}],["ev",{"^->":"remediated.0.c-0.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Spin up more workers",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"remediated.0.c-0.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Really?","\n",[["ev",{"^->":"remediated.0.c-0.7.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Yes",{"->":"$r","var":true},null]}],["ev",{"^->":"remediated.0.c-0.7.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^No",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"remediated.0.c-0.7.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^The queue is eventually worked off, after hours of additional and avoidable customer impact","\n",{"->":"end"},{"#f":5}],"c-1":["ev",{"^->":"remediated.0.c-0.7.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":"remediated"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"remediated.0.c-0.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^We catch up to current time","\n",{"->":"end"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"end":[[["^The incident has been resolved! Now put your postmortem hat on :)","\n","end","end",{"#f":5,"#n":"g-0"}],null],{"#f":1}],"#f":1}],"listDefs":{}}